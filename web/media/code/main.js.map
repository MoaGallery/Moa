{"version":3,"sources":["./src/$_lazy_route_resource lazy namespace object","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/breadcrumb/breadcrumb.component.ts","./src/app/breadcrumb/breadcrumb.component.html","./src/app/gallery/gallery-edit/gallery-edit.component.ts","./src/app/gallery/gallery-edit/gallery-edit.component.html","./src/app/gallery/gallery-info/gallery-info.component.ts","./src/app/gallery/gallery-info/gallery-info.component.html","./src/app/gallery/gallery-list/gallery-list.component.ts","./src/app/gallery/gallery-list/gallery-list.component.html","./src/app/gallery/gallery-tile/gallery-tile.component.ts","./src/app/gallery/gallery-tile/gallery-tile.component.html","./src/app/gallery/gallery-toolbar/gallery-toolbar.component.ts","./src/app/gallery/gallery-toolbar/gallery-toolbar.component.html","./src/app/home/home-toolbar/home-toolbar.component.ts","./src/app/home/home-toolbar/home-toolbar.component.html","./src/app/image/image-add/image-add.component.ts","./src/app/image/image-add/image-add.component.html","./src/app/image/image-edit/image-edit.component.ts","./src/app/image/image-edit/image-edit.component.html","./src/app/image/image-info/image-info.component.ts","./src/app/image/image-info/image-info.component.html","./src/app/image/image-list/image-list.component.ts","./src/app/image/image-list/image-list.component.html","./src/app/image/image-thumb/image-thumb.component.ts","./src/app/image/image-thumb/image-thumb.component.html","./src/app/image/image-toolbar/image-toolbar.component.ts","./src/app/image/image-toolbar/image-toolbar.component.html","./src/app/models/gallery.model.ts","./src/app/ngbox/ngbox.component.ts","./src/app/ngbox/ngbox.directive.ts","./src/app/ngbox/ngbox.service.ts","./src/app/pages/gallery-page/gallery-page.component.ts","./src/app/pages/gallery-page/gallery-page.component.html","./src/app/pages/home-page/home-page.component.ts","./src/app/pages/home-page/home-page.component.html","./src/app/pages/image-page/image-page.component.ts","./src/app/pages/image-page/image-page.component.html","./src/app/services/button-click.service.ts","./src/app/services/data.service.ts","./src/app/services/gallery_service.ts","./src/app/services/identity.service.ts","./src/app/services/image_service.ts","./src/app/services/page_data.service.ts","./src/app/services/page_title.service.ts","./src/app/services/thumbnail.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import {Component, ElementRef, OnInit} from '@angular/core';\nimport {DataService} from \"./services/data.service\";\nimport {Router} from \"@angular/router\";\nimport {PageTitleService} from \"./services/page_title.service\";\nimport {IdentityService} from './services/identity.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n    preload = {\n    \trights: {\n    \t\tisAdmin: false\n\t    }\n    };\n    data = [];\n\n    constructor(private router: Router,\n                private service: DataService,\n                private pageTitleService: PageTitleService,\n                private identityService: IdentityService,\n                private elementRef:ElementRef) {\n        this.preload = JSON.parse(this.elementRef.nativeElement.getAttribute('[preload]'));\n    }\n\n    ngOnInit(): void {\n        this.service.setPageData(this.preload);\n        this.identityService.SetRights({\n\t        isAdmin: this.preload.rights.isAdmin\n        })\n    }\n}\n","<breadcrumb></breadcrumb>\n\n<router-outlet></router-outlet>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\n\nimport { AppComponent } from './app.component';\nimport { BreadcrumbComponent } from './breadcrumb/breadcrumb.component';\nimport { GalleryListComponent } from './gallery/gallery-list/gallery-list.component';\nimport { GalleryTileComponent } from './gallery/gallery-tile/gallery-tile.component';\nimport {DataService} from \"./services/data.service\";\nimport {PageTitleService} from \"./services/page_title.service\";\nimport {PageDataService} from \"./services/page_data.service\";\nimport {HttpClientModule} from \"@angular/common/http\";\nimport {RouterModule, Routes} from \"@angular/router\";\nimport { GalleryPageComponent } from './pages/gallery-page/gallery-page.component';\nimport { HomePageComponent } from './pages/home-page/home-page.component';\nimport { GalleryInfoComponent } from './gallery/gallery-info/gallery-info.component';\nimport { ImageListComponent } from './image/image-list/image-list.component';\nimport { ImageThumbComponent } from './image/image-thumb/image-thumb.component';\nimport { GalleryToolbarComponent } from './gallery/gallery-toolbar/gallery-toolbar.component';\nimport { GalleryEditComponent } from './gallery/gallery-edit/gallery-edit.component';\nimport {ButtonClickService} from \"./services/button-click.service\";\nimport {FormsModule} from \"@angular/forms\";\nimport {IdentityService} from \"./services/identity.service\";\nimport {GalleryService} from \"./services/gallery_service\";\nimport {ImageService} from \"./services/image_service\";\nimport { ImagePageComponent } from './pages/image-page/image-page.component';\nimport { ImageInfoComponent } from './image/image-info/image-info.component';\nimport { ImageToolbarComponent } from './image/image-toolbar/image-toolbar.component';\nimport { ImageEditComponent } from './image/image-edit/image-edit.component';\nimport {ThumbnailService} from \"./services/thumbnail.service\";\nimport {ImageAddComponent} from \"./image/image-add/image-add.component\";\nimport {FileUploadModule} from 'primeng/fileupload';\nimport {HomeToolbarComponent} from \"./home/home-toolbar/home-toolbar.component\";\nimport {CommonModule} from \"@angular/common\";\nimport {NgBoxService} from \"./ngbox/ngbox.service\";\nimport {NgBoxComponent} from \"./ngbox/ngbox.component\";\nimport {NgBoxDirective} from \"./ngbox/ngbox.directive\";\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\nconst routes: Routes = [\n\t{ path: '', component: HomePageComponent },\n\t{ path: 'gallery/:id', component: GalleryPageComponent },\n\t{ path: 'image/:gallery_id/:image_id', component: ImagePageComponent }\n];\n\n@NgModule({\n\tdeclarations: [\n\t\tAppComponent,\n\t\tBreadcrumbComponent,\n\n\t\tGalleryListComponent,\n\t\tGalleryTileComponent,\n\t\tGalleryInfoComponent,\n\t\tGalleryToolbarComponent,\n\t\tGalleryEditComponent,\n\n\t\tImageListComponent,\n\t\tImageThumbComponent,\n\t\tImageInfoComponent,\n\n\t\tHomeToolbarComponent,\n\n\t\t// Route pages\n\t\tHomePageComponent,\n\t\tGalleryPageComponent,\n\t\tImagePageComponent,\n\t\tImageToolbarComponent,\n\t\tImageEditComponent,\n\t\tImageAddComponent,\n\n\t\tNgBoxComponent,\n\t\tNgBoxDirective\n\t],\n\timports: [\n\t\tBrowserModule,\n\t\tHttpClientModule,\n\t\tRouterModule.forRoot(routes),\n\t\tFormsModule,\n\t\tFileUploadModule,\n\t\tBrowserAnimationsModule\n\t],\n\tproviders: [\n\t\tDataService,\n\t\tPageTitleService,\n\t\tPageDataService,\n\t\tButtonClickService,\n\t\tGalleryService,\n\t\tImageService,\n\t\tThumbnailService,\n\t\tNgBoxService,\n\t\tIdentityService\n\t],\n\tbootstrap: [\n\t\tAppComponent\n\t]\n})\nexport class AppModule { }\n","import {Component, OnDestroy} from '@angular/core';\nimport {Breadcrumb} from \"../models/breadcrumb.model\";\nimport {DataService} from \"../services/data.service\";\nimport {Subscription} from \"rxjs/Subscription\";\n\n@Component({\n  selector: 'breadcrumb',\n  templateUrl: './breadcrumb.component.html',\n  styleUrls: ['./breadcrumb.component.css']\n})\nexport class BreadcrumbComponent implements OnDestroy {\n    crumbs: Breadcrumb[];\n    observer: Subscription;\n\n    constructor(private service: DataService){\n        this.observer = service.getBreadcrumbObserver().subscribe(\n            data => {\n                this.crumbs = data;\n            }\n        );\n    }\n\n    ngOnDestroy(): void {\n        this.observer.unsubscribe();\n    }\n\n    getLink(id) {\n        for (let i = 0; i < this.crumbs.length; i++) {\n            if (this.crumbs[i].id == id) {\n                return '/' + this.crumbs[i].type + '/' + this.crumbs[i].id;\n            }\n        }\n\n        return '/';\n    }\n}\n","<ol class=\"breadcrumb\">\n\t<li><a [routerLink]=\"['/']\">Home</a></li>\n\n\t<li *ngFor=\"let crumb of crumbs; let last = last\">\n\t  <a *ngIf=\"!last\"  [routerLink]=\"[getLink(crumb.id)]\">{{crumb.name}}</a>\n\t  <span *ngIf=\"last\">{{crumb.name}}</span>\n\t</li>\n</ol>\n","import {Component, Input, OnDestroy} from '@angular/core';\nimport {ButtonClickService} from \"../../services/button-click.service\";\nimport {Subscription} from \"rxjs/Subscription\";\nimport {GalleryService} from \"../../services/gallery_service\";\nimport {Router} from \"@angular/router\";\n\ndeclare var $: any;\n\n@Component({\n  selector: 'gallery-edit',\n  templateUrl: './gallery-edit.component.html',\n  styleUrls: ['./gallery-edit.component.css']\n})\nexport class GalleryEditComponent implements OnDestroy {\n\n\tprivate subscription: Subscription;\n\n\t@Input() gallery;\n\taddMode: boolean = false;\n\n\ttagList = [];\n\tparent_gallery = {\n\t\tid: 0,\n\t\tname: ''\n\t};\n\n\tname: String = '';\n\tdescription: String = '';\n\tuseTags: boolean = false;\n\tshowImages: boolean = false;\n\n\tconstructor(private buttonClickService: ButtonClickService,\n\t            private galleryService: GalleryService,\n\t            private router: Router) {\n\t\tthis.subscription = this.buttonClickService.notifyObservable$.subscribe(\n\t\t\tdata => {\n\t\t\t\tif ((data.name !== 'galleryEditClick') &&\n\t\t\t\t\t(data.name !== 'galleryAddClick'))\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.addMode = data.name === 'galleryAddClick';\n\n\t\t\t\tthis.reset();\n\t\t\t\t$('#edit-modal').modal('show');\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t$('#inputGalleryParent').select2({\n\t\t\t\t\t\tajax: {\n\t\t\t\t\t\t\turl: '/api/gallery_lookup',\n\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\tdata: function (params) {\n\t\t\t\t\t\t\t\treturn  {\n\t\t\t\t\t\t\t\t\tq: params.term,\n\t\t\t\t\t\t\t\t\tpage: params.page || 1\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t$('#inputGalleryTags').select2({\n\t\t\t\t\t\ttags: true,\n\t\t\t\t\t\tajax: {\n\t\t\t\t\t\t\turl: '/api/tag_lookup',\n\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\tdata: function (params) {\n\t\t\t\t\t\t\t\treturn  {\n\t\t\t\t\t\t\t\t\tq: params.term,\n\t\t\t\t\t\t\t\t\tpage: params.page || 1\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t)\n\t}\n\n\treset() {\n\t\tif (!this.addMode) {\n\t\t\tthis.name = this.gallery.name;\n\t\t\tthis.description = this.gallery.description;\n\t\t\tthis.useTags = this.gallery.use_tags == 1;\n\t\t\tthis.showImages = this.gallery.combined_view == 1;\n\t\t\tthis.parent_gallery.id = this.gallery.parent_gallery.id;\n\t\t\tthis.parent_gallery.name = this.gallery.parent_gallery.name;\n\t\t} else\n\t\t{\n\t\t\tthis.name = '';\n\t\t\tthis.description = '';\n\t\t\tthis.useTags = true;\n\t\t\tthis.showImages = false;\n\t\t\tthis.parent_gallery.id = this.gallery.id;\n\t\t\tthis.parent_gallery.name = this.gallery.name;\n\t\t}\n\t\tthis.tagList = [];\n\n\t\tfor (let tag of this.gallery.tag_list) {\n\t\t\tthis.tagList.push({name: tag.name, id: ''+tag.id});\n\t\t}\n\t}\n\n\tonSubmit() {\n\t\t// Select2 isn't synchronising so we have to get the selections manually\n\t\tlet tagData = $('#inputGalleryTags').select2('data');\n\t\tlet tags = [];\n\t\tfor (let tag of tagData)\n\t\t{\n\t\t\ttags.push(tag.id);\n\t\t}\n\n\t\tlet galleryData = $('#inputGalleryParent').select2('data');\n\t\tthis.parent_gallery.id = galleryData[0].id;\n\n\t\tlet id = 0;\n\t\tif (!this.addMode)\n\t\t\tid = this.gallery.id;\n\n\t\tthis.galleryService.SubmitGallery({\n\t\t\tid: id,\n\t\t\tname: this.name,\n\t\t\tdescription: this.description,\n\t\t\tparent: this.parent_gallery.id,\n\t\t\ttags: tags,\n\t\t\tuseTags: this.useTags,\n\t\t\tshowImages: this.showImages\n\t\t}).subscribe(data => {\n\t\t\tlet options =\n\t\t\t{\n\t\t\t\tmessage: 'Gallery saved',\n\t\t\t\tcontainer: '#editSuccessContainer',\n\t\t\t\tduration: 5000\n\t\t\t};\n\t\t\t$.meow(options);\n\t\t\t$('#inputGalleryTags').children().remove();\n\t\t\t$('#edit-modal').modal('hide');\n\n\t\t\tif (this.addMode) {\n\t\t\t\tthis.router.navigate(['/gallery/' + data.message])\n\t\t\t}\n\t\t});\n\t}\n\n\tngOnDestroy(): void {\n\t\tthis.subscription.unsubscribe();\n\t}\n}\n","<div class=\"modal fade\" id=\"edit-modal\">\n\t<div class=\"modal-dialog\">\n\t\t<div class=\"modal-content\">\n\t\t\t<div class=\"modal-header\">\n\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\n\t\t\t\t<h4 class=\"modal-title\">Edit gallery</h4>\n\t\t\t</div>\n\t\t\t<form action=\"/gallery/{{gallery.id}}\" method=\"post\" class=\"form-horizontal\">\n\t\t\t\t<div class=\"modal-body\">\n\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label for=\"inputGalleryName\" class=\"col-sm-2 control-label\">Name</label>\n\t\t\t\t\t\t<div class=\"col-sm-10\">\n\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"inputGalleryName\" id=\"inputGalleryName\" placeholder=\"Edit...\" [(ngModel)]=\"name\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label for=\"inputGalleryDescription\" class=\"col-sm-2 control-label\">Description</label>\n\t\t\t\t\t\t<div class=\"col-sm-10\">\n\t\t\t\t\t\t\t<textarea class=\"form-control\" name=\"inputGalleryDescription\" id=\"inputGalleryDescription\" placeholder=\"Edit...\" [(ngModel)]=\"description\"></textarea>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label for=\"inputGalleryParent\" class=\"col-sm-2 control-label\">Parent</label>\n\t\t\t\t\t\t<div class=\"col-sm-10\">\n\t\t\t\t\t\t\t<select class=\"form-control\" name=\"inputGalleryParent\" id=\"inputGalleryParent\" style=\"width: 100%\">\n\t\t\t\t\t\t\t\t<option value=\"{{parent_gallery.id}}\" selected=\"selected\">{{parent_gallery.name}}</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label for=\"inputGalleryTags\" class=\"col-sm-2 control-label\">Tags</label>\n\t\t\t\t\t\t<div class=\"col-sm-10\">\n\t\t\t\t\t\t\t<select class=\"form-control\" name=\"inputGalleryTags[]\" id=\"inputGalleryTags\" style=\"width: 100%\" multiple>\n\t\t\t\t\t\t\t\t<option *ngFor=\"let tag of tagList\" value=\"{{tag.id}}\" selected=\"selected\">{{tag.name}}</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<div class=\"checkbox\">\n\t\t\t\t\t\t\t<div class=\"col-sm-2\"></div>\n\t\t\t\t\t\t\t<div class=\"col-sm-10\">\n\t\t\t\t\t\t\t\t<input type=\"checkbox\" name=\"inputGalleryCombinedView\" id=\"inputGalleryCombinedView\" [(ngModel)]=\"showImages\">\n\t\t\t\t\t\t\t\t<label for=\"inputGalleryCombinedView\" class=\"control-label\">Show images when there are subgalleries</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<div class=\"checkbox\">\n\t\t\t\t\t\t\t<div class=\"col-sm-2\"></div>\n\t\t\t\t\t\t\t<div class=\"col-sm-10\">\n\t\t\t\t\t\t\t\t<input type=\"checkbox\" name=\"inputGalleryUseTags\" id=\"inputGalleryUseTags\" [(ngModel)]=\"useTags\">\n\t\t\t\t\t\t\t\t<label for=\"inputGalleryUseTags\" class=\"control-label\">Populate from tags</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"modal-footer\">\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button>\n\t\t\t\t\t<input (click)=\"onSubmit()\" type=\"submit\" class=\"btn btn-primary\" value=\"Save changes\">\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div><!-- /.modal-content -->\n\t</div><!-- /.modal-dialog -->\n</div><!-- /.modal -->\n","import {Component, OnDestroy} from '@angular/core';\nimport {DataService} from \"../../services/data.service\";\nimport {Subscription} from \"rxjs/Subscription\";\n\n@Component({\n  selector: 'gallery-info',\n  templateUrl: './gallery-info.component.html',\n  styleUrls: ['./gallery-info.component.css']\n})\nexport class GalleryInfoComponent implements OnDestroy {\n\n\tgallery = {\n\t\tname: '',\n\t\tdescription: ''\n\t};\n\tobserver: Subscription;\n\n\tconstructor(private service: DataService) {\n\t  this.observer = service.getGalleryObserver().subscribe(\n\t\t  data => {\n\t\t\t  this.gallery = data;\n\t\t  }\n\t  );\n\t}\n\n\tngOnDestroy(): void {\n\t\tthis.observer.unsubscribe();\n\t}\n}\n","<h1>{{gallery.name}}</h1>\n<p>\n\t{{gallery.description}}\n</p>","import {Component} from '@angular/core';\nimport {Gallery} from \"../../models/gallery.model\";\nimport {DataService} from \"../../services/data.service\";\nimport {Subscription} from \"rxjs/Subscription\";\n\n@Component({\n  selector: 'gallery-list',\n  templateUrl: './gallery-list.component.html',\n  styleUrls: ['./gallery-list.component.css']\n})\nexport class GalleryListComponent {\n\n    galleries: Gallery[];\n    observer: Subscription;\n\n    constructor(private service: DataService) {\n        this.observer = service.getGalleriesObserver().subscribe(\n            data => {\n                this.galleries = data;\n            }\n        );\n    }\n\n    ngOnDestroy(): void {\n        this.observer.unsubscribe();\n    }\n}\n","<div class=\"row\">\n\t<ul class=\"list-unstyled\">\n\t\t<li *ngFor=\"let gallery of galleries\" class=\"thumbnail col-md-3\" style=\"min-height: 150px;\">\n\t\t\t<gallery-tile [gallery]=\"gallery\"></gallery-tile>\n\t\t</li>\n\t</ul>\n</div>","import { Component, Input } from '@angular/core';\nimport {Gallery} from \"../../models/gallery.model\";\n\n@Component({\n  selector: 'gallery-tile',\n  templateUrl: './gallery-tile.component.html',\n  styleUrls: ['./gallery-tile.component.css']\n})\nexport class GalleryTileComponent {\n\n    @Input() gallery: Gallery;\n\n    constructor() { }\n    getLink(id) {\n        return '/gallery/' + this.gallery.id;\n    }\n\n\tdoesThumbExist(thumb_id: number) {\n    \treturn thumb_id !== null;\n\t}\n}\n","<a [routerLink]=\"[getLink(gallery.id)]\">\n\t<img *ngIf=\"!doesThumbExist(gallery.thumb_id)\" src=\"http://placehold.it/300x200\">\n\t<img *ngIf=\"doesThumbExist(gallery.thumb_id)\" src=\"/image/thumb/{{gallery.thumb_id}}.jpg\">\n\t<h4>{{gallery.name}}</h4>\n</a>","import {Component, OnDestroy} from '@angular/core';\nimport {DataService} from \"../../services/data.service\";\nimport {Subscription} from \"rxjs/Subscription\";\nimport {ButtonClickService} from \"../../services/button-click.service\";\nimport {GalleryService} from \"../../services/gallery_service\";\nimport {Router} from \"@angular/router\";\nimport {IdentityService} from '../../services/identity.service';\n\ndeclare var $: any;\n\n@Component({\n  selector: 'gallery-toolbar',\n  templateUrl: './gallery-toolbar.component.html',\n  styleUrls: ['./gallery-toolbar.component.css']\n})\nexport class GalleryToolbarComponent implements OnDestroy {\n\n\tgallery = {\n\t\tid: 0,\n\t\tparent_id: 0,\n\t\tname: '',\n\t\tdescription: ''\n\t};\n\trights = {\n\t\tisAdmin: false\n\t};\n\tobserver: Subscription;\n\n\tconstructor(private dataService: DataService,\n\t            private buttonClickService: ButtonClickService,\n\t            private galleryService: GalleryService,\n\t            private identityService: IdentityService,\n\t            private router: Router) {\n\t\tthis.observer = dataService.getGalleryObserver().subscribe(\n\t\t\tdata => {\n\t\t\t\tthis.gallery = data;\n\t\t\t}\n\t\t);\n\t\tthis.rights.isAdmin = identityService.isAdmin();\n\t}\n\n\tonEditClick() {\n\t\tthis.buttonClickService.trigger('galleryEditClick');\n\t}\n\n\tonAddGalleryClick() {\n\t\tthis.buttonClickService.trigger('galleryAddClick');\n\t}\n\n\tonAddImageClick() {\n\t\tthis.buttonClickService.trigger('imageAddClick');\n\t}\n\n\tonDeleteClick() {\n\t\tif (confirm('Delete this gallery?')) {\n\t\t\tthis.galleryService.DeleteGallery(this.gallery.id, this.gallery.parent_id).subscribe(next => {\n\t\t\t\tlet options =\n\t\t\t\t\t{\n\t\t\t\t\t\tmessage: 'Gallery deleted',\n\t\t\t\t\t\tcontainer: '#editSuccessContainer',\n\t\t\t\t\t\tduration: 5000\n\t\t\t\t\t};\n\t\t\t\t$.meow(options);\n\n\t\t\t\tif (this.gallery.parent_id > 0)\n\t\t\t\t\tthis.router.navigate(['/gallery/' + this.gallery.parent_id]);\n\t\t\t\telse\n\t\t\t\t\tthis.router.navigate(['/']);\n\n\t\t\t});\n\t\t}\n\t}\n\n\tngOnDestroy() {\n\t\tthis.observer.unsubscribe();\n\t}\n}\n","<gallery-edit [gallery]=\"gallery\"></gallery-edit>\n<image-add [gallery]=\"gallery\"></image-add>\n\n<div class=\"row\">\n\t<div class=\"pull-right\">\n\t\t<div *ngIf=\"rights.isAdmin\" class=\"btn-group\" role=\"group\" aria-label=\"...\">\n\t\t\t<button type=\"button\" (click)=\"onAddGalleryClick()\" class=\"btn btn-default\" id=\"galleryAdd\" title=\"Add gallery\" data-toggle=\"tooltip\"><span class=\"glyphicon glyphicon-th\"></span></button>\n\t\t\t<button type=\"button\" (click)=\"onAddImageClick()\" class=\"btn btn-default\" id=\"imageAdd\" title=\"Add image\" data-toggle=\"tooltip\"><span class=\"glyphicon glyphicon-picture\"></span></button>\n\t\t\t<button type=\"button\" (click)=\"onEditClick()\" class=\"btn btn-default\" id=\"galleryEdit\" title=\"Edit gallery\" data-toggle=\"tooltip\"><span class=\"glyphicon glyphicon-pencil\"></span></button>\n\t\t\t<button type=\"button\" (click)=\"onDeleteClick()\" class=\"btn btn-default\" id=\"galleryDelete\" title=\"Delete gallery\" data-toggle=\"tooltip\"><span class=\"glyphicon glyphicon-trash\"></span></button>\n\t\t</div>\n\t</div>\n</div>\n","import {Component, OnDestroy} from '@angular/core';\nimport {DataService} from \"../../services/data.service\";\nimport {Subscription} from \"rxjs/Subscription\";\nimport {ButtonClickService} from \"../../services/button-click.service\";\nimport {GalleryService} from \"../../services/gallery_service\";\nimport {Router} from \"@angular/router\";\nimport {IdentityService} from '../../services/identity.service';\n\ndeclare var $: any;\n\n@Component({\n  selector: 'home-toolbar',\n  templateUrl: './home-toolbar.component.html',\n  styleUrls: ['./home-toolbar.component.css']\n})\nexport class HomeToolbarComponent implements OnDestroy {\n\n\tgallery = {\n\t\tid: 0,\n\t\tparent_id: 0,\n\t\tname: '',\n\t\tdescription: '',\n\t\ttag_list: [],\n\t\tparent_gallery: {\n\t\t\tid: 0,\n\t\t\tname: 'Homepage'\n\t\t}\n\t};\n\trights = {\n\t\tisAdmin: false\n\t};\n\tobserver: Subscription;\n\n\tconstructor(private dataService: DataService,\n\t            private buttonClickService: ButtonClickService,\n\t            private galleryService: GalleryService,\n\t            private identityService: IdentityService,\n\t            private router: Router) {\n\t\tthis.observer = dataService.getGalleryObserver().subscribe(\n\t\t\tdata => {\n\t\t\t\tthis.gallery = data;\n\t\t\t}\n\t\t);\n\t\tthis.rights.isAdmin = identityService.isAdmin();\n\t}\n\n\tonAddGalleryClick() {\n\t\tthis.buttonClickService.trigger('galleryAddClick');\n\t}\n\n\tngOnDestroy() {\n\t\tthis.observer.unsubscribe();\n\t}\n}\n","<gallery-edit [gallery]=\"gallery\"></gallery-edit>\n\n<div class=\"row\">\n\t<div class=\"pull-right\">\n\t\t<div *ngIf=\"rights.isAdmin\" class=\"btn-group\" role=\"group\" aria-label=\"...\">\n\t\t\t<button type=\"button\" (click)=\"onAddGalleryClick()\" class=\"btn btn-default\" id=\"galleryAdd\" title=\"Add gallery\" data-toggle=\"tooltip\"><span class=\"glyphicon glyphicon-th\"></span></button>\n\t\t</div>\n\t</div>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {ButtonClickService} from \"../../services/button-click.service\";\nimport {Subscription} from \"rxjs/Subscription\";\nimport {Router} from \"@angular/router\";\nimport {ImageService} from \"../../services/image_service\";\n\ndeclare var $: any;\n\n@Component({\n  selector: 'image-add',\n  templateUrl: './image-add.component.html',\n  styleUrls: ['./image-add.component.css']\n})\nexport class ImageAddComponent implements OnInit {\n\n\tprivate subscription: Subscription;\n\n\t@Input() gallery;\n\n\tfile;\n\tfilename: String = '';\n\tdescription: String = '';\n\ttagList = [];\n\n\tuploadedFiles: any[] = [];\n\n\tconstructor(private buttonClickService: ButtonClickService,\n\t            private imageService: ImageService,\n\t            private router: Router) {\n\t\tthis.subscription = this.buttonClickService.notifyObservable$.subscribe(\n\t\t\tdata => {\n\t\t\t\tif (data.name !== 'imageAddClick')\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.reset();\n\t\t\t\t$('#add-modal').modal('show');\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t$('#inputImageTags').select2({\n\t\t\t\t\t\ttags: true,\n\t\t\t\t\t\tajax: {\n\t\t\t\t\t\t\turl: '/api/tag_lookup',\n\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\tdata: function (params) {\n\t\t\t\t\t\t\t\treturn  {\n\t\t\t\t\t\t\t\t\tq: params.term,\n\t\t\t\t\t\t\t\t\tpage: params.page || 1\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t)\n\t}\n\n\treset() {\n\t\tthis.description = '';\n\t\tthis.tagList = [];\n\n\t\tfor (let tag of this.gallery.tag_list) {\n\t\t\tthis.tagList.push({name: tag.name, id: ''+tag.id});\n\t\t}\n\t}\n\n\tonSubmit() {\n\t\t// Select2 isn't synchronising so we have to get the selections manually\n\t\tlet tagData = $('#inputImageTags').select2('data');\n\t\tlet tags = [];\n\t\tfor (let tag of tagData)\n\t\t{\n\t\t\ttags.push(tag.id);\n\t\t}\n\n\t\tlet files = this.uploadedFiles.map((file) => {\n\t\t\treturn file.hash\n\t\t});\n\n\t\tthis.imageService.SubmitImages({\n\t\t\tid: 0,\n\t\t\tgallery_id: this.gallery.id,\n\t\t\tdescription: this.description,\n\t\t\ttags: tags,\n\t\t\tfileHashes: files\n\t\t}).subscribe(data => {\n\t\t\tlet options =\n\t\t\t\t{\n\t\t\t\t\tmessage: 'Image saved',\n\t\t\t\t\tcontainer: '#editSuccessContainer',\n\t\t\t\t\tduration: 5000\n\t\t\t\t};\n\t\t\t$.meow(options);\n\t\t\t$('#inputImageTags').children().remove();\n\t\t\t$('#add-modal').modal('hide');\n\n\t\t\tif (files.length === 1)\n\t\t\t\tthis.router.navigate(['/image/' + this.gallery.id + '/' + data.message]);\n\t\t});\n\t}\n\n\tngOnInit() {\n\t}\n\n\tonUpload(event) {\n\t\tlet response = JSON.parse(event.xhr.response);\n\n\t\tfor (let file of event.files) {\n\t\t\tlet hash = '';\n\n\t\t\tfor (let r of response) {\n\t\t\t\tif (r.filename === file.name)\n\t\t\t\t\thash = r.hash;\n\t\t\t}\n\n\t\t\tfile.hash = hash;\n\t\t\tthis.uploadedFiles.push(file);\n\t\t}\n\t}\n\n\tfileDelete($event, file) {\n\t\t$event.preventDefault();\n\t\tconsole.log(file);\n\t\tlet fileIndex = -1;\n\t\tfor (let {item, index} of this.uploadedFiles.map((item, index) => ({ item, index })))\n\t\t{\n\t\t\tif (item.hash === file.hash)\n\t\t\t\tfileIndex = index;\n\t\t}\n\n\t\tif (fileIndex > -1)\n\t\t\tthis.uploadedFiles.splice(fileIndex, 1);\n\t}\n}\n","<div class=\"modal fade\" id=\"add-modal\">\n\t<div class=\"modal-dialog\">\n\t\t<div class=\"modal-content\">\n\t\t\t<div class=\"modal-header\">\n\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\n\t\t\t\t<h4 class=\"modal-title\">Add image</h4>\n\t\t\t</div>\n\t\t\t<form action=\"\" method=\"post\" class=\"form-horizontal\">\n\t\t\t\t<div class=\"modal-body\">\n\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label for=\"inputImageDescription\" class=\"col-sm-2 control-label\">Description</label>\n\t\t\t\t\t\t<div class=\"col-sm-10\">\n\t\t\t\t\t\t\t<textarea class=\"form-control\" name=\"inputImageDescription\" id=\"inputImageDescription\" placeholder=\"Edit...\" [(ngModel)]=\"description\"></textarea>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label for=\"inputImageTags\" class=\"col-sm-2 control-label\">Tags</label>\n\t\t\t\t\t\t<div class=\"col-sm-10\">\n\t\t\t\t\t\t\t<select class=\"form-control\" name=\"inputImageTags[]\" id=\"inputImageTags\" style=\"width: 100%\" multiple>\n\t\t\t\t\t\t\t\t<option *ngFor=\"let tag of tagList\" value=\"{{tag.id}}\" selected=\"selected\">{{tag.name}}</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label for=\"inputImageTags\" class=\"col-sm-2 control-label\">Image</label>\n\t\t\t\t\t\t<div class=\"col-sm-10\">\n\t\t\t\t\t\t\t<p-fileUpload url=\"/api/upload\" name=\"myfile[]\" accept=\"image/*\" auto=\"auto\" (onUpload)=\"onUpload($event)\" multiple=\"multiple\">\n\t\t\t\t\t\t\t\t<ng-template pTemplate=\"content\">\n\t\t\t\t\t\t\t\t\t<ul *ngIf=\"uploadedFiles.length\" class=\"list-unstyled uploaded-image-list\">\n\t\t\t\t\t\t\t\t\t\t<li *ngFor=\"let file of uploadedFiles\">\n\t\t\t\t\t\t\t\t\t\t\t<img width=\"50\" src=\"/image/uploaded/{{file.hash}}\">\n\t\t\t\t\t\t\t\t\t\t\t{{file.name}} - {{file.size}} bytes\n\t\t\t\t\t\t\t\t\t\t\t<a href=\"#\" (click)=\"fileDelete($event, file)\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"glyphicon glyphicon-trash\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</ng-template>\n\t\t\t\t\t\t\t</p-fileUpload>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"modal-footer\">\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button>\n\t\t\t\t\t<input (click)=\"onSubmit()\" type=\"submit\" class=\"btn btn-primary\" value=\"Save changes\">\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div><!-- /.modal-content -->\n\t</div><!-- /.modal-dialog -->\n</div><!-- /.modal -->\n","import {Component, Input, OnInit} from '@angular/core';\nimport {ButtonClickService} from \"../../services/button-click.service\";\nimport {Subscription} from \"rxjs/Subscription\";\nimport {Router} from \"@angular/router\";\nimport {ImageService} from \"../../services/image_service\";\n\ndeclare var $: any;\n\n@Component({\n  selector: 'image-edit',\n  templateUrl: './image-edit.component.html',\n  styleUrls: ['./image-edit.component.css']\n})\nexport class ImageEditComponent implements OnInit {\n\n\tprivate subscription: Subscription;\n\n\t@Input() image;\n\n\tid: String = '0';\n\ttagList = [];\n\tdescription: String = '';\n\n\tconstructor(private buttonClickService: ButtonClickService,\n\t            private imageService: ImageService,\n\t            private router: Router) {\n\t\tthis.subscription = this.buttonClickService.notifyObservable$.subscribe(\n\t\t\tdata => {\n\t\t\t\tif (data.name !== 'imageEditClick')\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.reset();\n\t\t\t\t$('#edit-modal').modal('show');\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t$('#inputImageTags').select2({\n\t\t\t\t\t\ttags: true,\n\t\t\t\t\t\tajax: {\n\t\t\t\t\t\t\turl: '/api/tag_lookup',\n\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\tdata: function (params) {\n\t\t\t\t\t\t\t\treturn  {\n\t\t\t\t\t\t\t\t\tq: params.term,\n\t\t\t\t\t\t\t\t\tpage: params.page || 1\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t)\n\t}\n\n\treset() {\n\t\tthis.id = ''+this.image.id;\n\t\tthis.description = this.image.description;\n\t\tthis.tagList = [];\n\n\t\tlet tags = [];\n\t\tfor (let tag of this.image.tag_list) {\n\t\t\tthis.tagList.push({name: tag.name, id: ''+tag.id});\n\t\t\ttags.push(''+tag.id);\n\t\t}\n\t\t$('#inputImageTags').val(tags);\n\t}\n\n\tonSubmit() {\n\t\t// Select2 isn't synchronising so we have to get the selections manually\n\t\tlet tagData = $('#inputImageTags').select2('data');\n\t\tlet tags = [];\n\t\tfor (let tag of tagData)\n\t\t{\n\t\t\ttags.push(tag.id);\n\t\t}\n\n\t\tthis.imageService.SubmitImages({\n\t\t\tid: this.image.id,\n\t\t\tgallery_id: this.image.gallery_id,\n\t\t\tdescription: this.description,\n\t\t\ttags: tags,\n\t\t}).subscribe(data => {\n\t\t\tlet options =\n\t\t\t\t{\n\t\t\t\t\tmessage: 'Image saved',\n\t\t\t\t\tcontainer: '#editSuccessContainer',\n\t\t\t\t\tduration: 5000\n\t\t\t\t};\n\t\t\t$.meow(options);\n\t\t\t$('#inputImageTags').children().remove();\n\t\t\t$('#edit-modal').modal('hide');\n\t\t});\n\t}\n\n\tngOnInit() {\n\t}\n\n}\n","<div class=\"modal fade\" id=\"edit-modal\">\n\t<div class=\"modal-dialog\">\n\t\t<div class=\"modal-content\">\n\t\t\t<div class=\"modal-header\">\n\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\n\t\t\t\t<h4 class=\"modal-title\">Edit image</h4>\n\t\t\t</div>\n\t\t\t<form action=\"\" method=\"post\" class=\"form-horizontal\">\n\t\t\t\t<div class=\"modal-body\">\n\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label for=\"inputImageDescription\" class=\"col-sm-2 control-label\">Description</label>\n\t\t\t\t\t\t<div class=\"col-sm-10\">\n\t\t\t\t\t\t\t<textarea class=\"form-control\" name=\"inputImageDescription\" id=\"inputImageDescription\" placeholder=\"Edit...\" [(ngModel)]=\"description\"></textarea>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label for=\"inputImageTags\" class=\"col-sm-2 control-label\">Tags</label>\n\t\t\t\t\t\t<div class=\"col-sm-10\">\n\t\t\t\t\t\t\t<select class=\"form-control\" name=\"inputImageTags[]\" id=\"inputImageTags\" style=\"width: 100%\" multiple>\n\t\t\t\t\t\t\t\t<option *ngFor=\"let tag of tagList\" value=\"{{tag.id}}\" selected=\"selected\">{{tag.name}}</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"modal-footer\">\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button>\n\t\t\t\t\t<input (click)=\"onSubmit()\" type=\"submit\" class=\"btn btn-primary\" value=\"Save changes\">\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div><!-- /.modal-content -->\n\t</div><!-- /.modal-dialog -->\n</div><!-- /.modal -->\n","import { Component, OnDestroy } from '@angular/core';\nimport {DataService} from \"../../services/data.service\";\nimport {Subscription} from \"rxjs/Subscription\";\nimport {NgBoxService} from \"../../ngbox/ngbox.service\";\n\n@Component({\n  selector: 'image-info',\n  templateUrl: './image-info.component.html',\n  styleUrls: ['./image-info.component.css']\n})\nexport class ImageInfoComponent implements OnDestroy {\n\n\timage = {\n\t\tid: 0,\n\t\timage_src: '',\n\t\tdescription: '',\n\t\tformat: 'jpg',\n\t\tfilename: ''\n\t};\n\tobserver: Subscription;\n\timageFullUrl: string;\n\n\tconstructor(private service: DataService) {\n\t\tthis.imageFullUrl = this.getFullImageUrl();\n\t\tthis.observer = service.getImageObserver().subscribe(\n\t\t\tdata => {\n\t\t\t\tthis.image = data;\n\t\t\t\tthis.imageFullUrl = this.getFullImageUrl();\n\t\t\t}\n\t\t);\n\t}\n\n\tngOnDestroy() {\n\t\tthis.observer.unsubscribe();\n\t}\n\n\tgetFullImageUrl() {\n\t\treturn '/image/' + this.image.id + '/' + this.image.filename;\n\t}\n}\n","<div class=\"moa-page\">\n\t<p>\n\t\t{{image.description}}\n\t</p>\n\t<div class=\"image-container\">\n\t\t<a [href]=\"getFullImageUrl()\" ng-box [title]=\"image.filename\" class=\"image-lightbox-link\">\n\t\t\t<img src=\"{{image.image_src}}\">\n\t\t</a>\n\t</div>\n\t<br>\n\t<div class=\"row\">\n\t\t<a [href]=\"getFullImageUrl()\" target=\"_blank\" class=\"btn btn-info col-md-2 col-md-offset-5\">\n\t\t\t<span class=\"glyphicon glyphicon-new-window pull-left\"></span> Open in new tab\n\t\t</a>\n\t</div>\n</div>\n<ngbox></ngbox>","import {Component, OnInit, OnDestroy} from '@angular/core';\nimport {Subscription} from \"rxjs/Subscription\";\nimport {DataService} from \"../../services/data.service\";\nimport {ThumbnailService} from \"../../services/thumbnail.service\";\n\n@Component({\n  selector: 'image-list',\n  templateUrl: './image-list.component.html',\n  styleUrls: ['./image-list.component.css']\n})\nexport class ImageListComponent implements OnInit, OnDestroy {\n\n\tstatic readonly TARGET_HEIGHT: Number = 300;\n\tstatic readonly GALLERY_WIDTH: Number = 1140;\n\n\timages: Array<any>;\n\tgallery: Array<any>;\n\timagesObserver: Subscription;\n\tgalleryObserver: Subscription;\n\tthumbSub: Subscription;\n\n\tconstructor(private service: DataService,\n\t            private thumbService: ThumbnailService) {\n\t\tthis.imagesObserver = service.getImagesObserver().subscribe(\n\t\t\tdata => {\n\t\t\t\tthis.images = data;\n\t\t\t\tthis.checkThumbs();\n\t\t\t}\n\t\t);\n\n\t\tthis.galleryObserver = service.getGalleryObserver().subscribe(\n\t\t\tdata => {\n\t\t\t\tthis.gallery = data;\n\t\t\t}\n\t\t);\n\t}\n\n\tngOnInit() {\n\t\tthis.checkThumbs();\n\t}\n\n\tprivate checkThumbs() {\n\t\tlet imageWidths = [];\n\t\tlet totalWidth = 0;\n\n\t\tif (this.thumbSub !== undefined)\n\t\t\tthis.thumbSub.unsubscribe();\n\n\t\tlet toGenerate = [];\n\t\tif (this.images !== undefined) {\n\t\t\tfor (let image of this.images) {\n\t\t\t\tif (image.isGenerating) {\n\t\t\t\t\ttoGenerate.push(parseInt(image.id));\n\t\t\t\t}\n\n\t\t\t\tlet width = image.width * (Number(ImageListComponent.TARGET_HEIGHT) / image.height);\n\t\t\t\timageWidths.push(width);\n\t\t\t\ttotalWidth += width;\n\t\t\t}\n\n\t\t\tif (toGenerate.length > 0)\n\t\t\t\tthis.getThumbs(toGenerate);\n\n\t\t\tlet maxWidth = Number(ImageListComponent.GALLERY_WIDTH) * 1.2;\n\n\t\t\tlet rows = [];\n\t\t\tlet row = {\n\t\t\t\twidth: 0,\n\t\t\t\timages: 0\n\t\t\t};\n\t\t\tlet i = 0;\n\t\t\twhile (i < imageWidths.length) {\n\t\t\t\trow.width += imageWidths[i];\n\t\t\t\trow.images++;\n\t\t\t\tif ((row.width > ImageListComponent.GALLERY_WIDTH) &&\n\t\t\t\t\t(row.images > 1)) {\n\t\t\t\t\tif (row.width > maxWidth) {\n\t\t\t\t\t\trow.width -= imageWidths[i];\n\t\t\t\t\t\trow.images--;\n\t\t\t\t\t\trows.push(row);\n\t\t\t\t\t\trow = {\n\t\t\t\t\t\t\twidth: imageWidths[i],\n\t\t\t\t\t\t\timages: 1\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\trows.push(row);\n\t\t\t\t\t\trow = {\n\t\t\t\t\t\t\twidth: 0,\n\t\t\t\t\t\t\timages: 0\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif ((row.images === 1) &&\n\t\t\t\t(rows.length > 0)){\n\t\t\t\trows[rows.length-1].images++;\n\t\t\t\trows[rows.length-1].width += row.width;\n\t\t\t\trow = {\n\t\t\t\t\twidth: 0,\n\t\t\t\t\timages: 0\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ((row.images > 1) ||\n\t\t\t\t(rows.length === 0)) {\n\t\t\t\trows.push(row);\n\t\t\t}\n\n\t\t\ti = 0;\n\t\t\tfor (let row of rows) {\n\t\t\t\tlet scaleFactor = Number(ImageListComponent.GALLERY_WIDTH) / row.width;\n\t\t\t\tfor (let j = 0; j < row.images; j++) {\n\t\t\t\t\tthis.images[i].displayWidth = Math.floor(imageWidths[i] * scaleFactor);\n\t\t\t\t\tthis.images[i].displayHeight = Math.floor   (Number(ImageListComponent.TARGET_HEIGHT) * scaleFactor);\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate getThumbs(toGenerate: Array<number>) {\n\t\tthis.thumbSub = this.thumbService.getStatus(toGenerate).subscribe(data => {\n\t\t\tlet nextBatch = [];\n\t\t\tfor (let image of toGenerate) {\n\t\t\t\tlet found: boolean = false;\n\t\t\t\tfor (let notDoneYet of data) {\n\t\t\t\t\tif (image == notDoneYet)\n\t\t\t\t\t\tfound = true;\n\t\t\t\t}\n\n\t\t\t\tif (!found) {\n\t\t\t\t\tfor (let i of this.images) {\n\t\t\t\t\t\tif (image == i.id)\n\t\t\t\t\t\t\ti.isGenerating = false;\n\t\t\t\t\t}\n\t\t\t\t} else\n\t\t\t\t{\n\t\t\t\t\tnextBatch.push(image);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.thumbSub.unsubscribe();\n\n\t\t\tif (nextBatch.length > 0) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.getThumbs(nextBatch);\n\t\t\t\t}, 200);\n\t\t\t}\n\t\t});\n\t}\n\n\tngOnDestroy() {\n\t\tthis.imagesObserver.unsubscribe();\n\t\tthis.galleryObserver.unsubscribe();\n\t}\n}\n","<ul class=\"list-unstyled\" style=\"overflow: auto;\">\n\t<li *ngFor=\"let image of images\" class=\"thumbnail\">\n\t\t<image-thumb [image]=\"image\" [gallery_id]=\"gallery.id\">\n\t\t</image-thumb>\n\t</li>\n</ul>\n","import {Component, Input} from '@angular/core';\nimport {GalleryService} from '../../services/gallery_service';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'image-thumb',\n  templateUrl: './image-thumb.component.html',\n  styleUrls: ['./image-thumb.component.css']\n})\nexport class ImageThumbComponent {\n\n\t@Input() image: any;\n\t@Input() gallery_id: any;\n\n\tshowDropTargets: boolean;\n\n\tconstructor(private galleryService: GalleryService,\n\t            private router: Router) { }\n\n\tgetLink() {\n\t\treturn '/image/' + this.gallery_id + '/' + this.image.id;\n\t}\n\n\tonDragEnter($event) {\n\t\t$event.preventDefault();\n\t\t$event.stopPropagation();\n\t\tif (localStorage.getItem('moaDragId') != this.image.id)\n\t\t\tthis.showDropTargets = true;\n\t}\n\n\tonDragLeave($event) {\n\t\t$event.preventDefault();\n\t\t$event.stopPropagation();\n\n\t\tlet element = $event.relatedTarget.closest('.inner-thumbnail');\n\t\tif (element !== null) {\n\t\t\tlet image_id = element.getAttribute('data-image_id');\n\t\t\tif (image_id != this.image.id)\n\t\t\t\tthis.showDropTargets = false;\n\t\t} else {\n\t\t\tthis.showDropTargets = false;\n\t\t}\n\t}\n\n\tonDrag($event, image_id) {\n\t\tlocalStorage.setItem('moaDragType', 'image');\n\t\tlocalStorage.setItem('moaDragId', image_id);\n\t}\n\n\tonDrop($event) {\n\t\tlet droppedId = localStorage.getItem('moaDragId');\n\t\tlocalStorage.removeItem('moaDragType');\n\t\tlocalStorage.removeItem('moaDragId');\n\n\t\tthis.showDropTargets = false;\n\n\t\tlet direction = $event.toElement.getAttribute('data-direction');\n\n\t\tif (direction !== null) {\n\t\t\tthis.galleryService.MoveImage(this.gallery_id, droppedId, direction, this.image.id\n\t\t\t).subscribe(data => {\n\t\t\t\tthis.router.navigate(['/gallery/' + this.gallery_id])\n\t\t\t});\n\t\t}\n\n\t\t$event.preventDefault();\n\t\t$event.stopPropagation();\n\t}\n\n\tonDragOver($event: DragEvent) {\n\t\t$event.preventDefault();\n\t\t$event.stopPropagation();\n\t}\n}\n","<div class=\"inner-thumbnail\" (dragenter)=\"onDragEnter($event)\" (dragleave)=\"onDragLeave($event)\" (dragover)=\"onDragOver($event)\" (drop)=\"onDrop($event)\" [attr.data-image_id]=\"image.id\">\n\t<div class=\"left-dropper\" *ngIf=\"showDropTargets\" (drop)=\"onDrop($event)\" data-direction=\"before\"><span>&lt;&lt;</span></div>\n\t<div class=\"right-dropper\" *ngIf=\"showDropTargets\" (drop)=\"onDrop($event)\" data-direction=\"after\"><span>&gt;&gt;</span></div>\n\t<a [routerLink]=\"[getLink()]\">\n\t\t<img *ngIf=\"!image.isGenerating && image.displayWidth <= 450 && image.displayHeight <= 300\" src=\"/image/thumb/{{image.id}}.jpg\" [ngStyle]=\"{width: (image.displayWidth - 10) + 'px', height: image.displayHeight + 'px'}\" (dragstart)=\"onDrag($event, image.id)\">\n\t\t<img *ngIf=\"!image.isGenerating && (image.displayWidth > 450 || image.displayHeight > 300)\" src=\"/image/thumb/{{image.id}}-w.jpg\" [ngStyle]=\"{width: (image.displayWidth - 10) + 'px', height: image.displayHeight + 'px'}\" (dragstart)=\"onDrag($event, image.id)\">\n\t\t<img *ngIf=\"image.isGenerating\" src=\"/media/spinner.svg\" class=\"thumbnail-generating\" (dragstart)=\"onDrag($event, image.id)\">\n\t</a>\n</div>\n","import { Component, OnDestroy } from '@angular/core';\nimport {ButtonClickService} from \"../../services/button-click.service\";\nimport {DataService} from \"../../services/data.service\";\nimport {Subscription} from \"rxjs/Subscription\";\nimport {Router} from \"@angular/router\";\nimport {ImageService} from \"../../services/image_service\";\nimport {IdentityService} from '../../services/identity.service';\n\ndeclare var $: any;\n\n@Component({\n  selector: 'image-toolbar',\n  templateUrl: './image-toolbar.component.html',\n  styleUrls: ['./image-toolbar.component.css']\n})\nexport class ImageToolbarComponent implements OnDestroy {\n\n\timage = {\n\t\tid: 0,\n\t\tname: '',\n\t\tdescription: '',\n\t\tgallery_id: 0\n\t};\n\trights = {\n\t\tisAdmin: false\n\t};\n\tobserver: Subscription;\n\n\tconstructor(private dataService: DataService,\n\t\t\t\tprivate buttonClickService: ButtonClickService,\n\t\t\t\tprivate imageService: ImageService,\n\t\t\t\tprivate identityService: IdentityService,\n\t            private router: Router) {\n\t\tthis.observer = dataService.getImageObserver().subscribe(\n\t\t\tdata => {\n\t\t\t\tthis.image = data;\n\t\t\t}\n\t\t);\n\t\tthis.rights.isAdmin = identityService.isAdmin();\n\t}\n\n\tonEditClick() {\n\t\tthis.buttonClickService.trigger('imageEditClick');\n\t}\n\n\tonDeleteClick() {\n\t\tif (confirm('Delete this image?')) {\n\t\t\tthis.imageService.DeleteImage(this.image.id).subscribe(next => {\n\t\t\t\tlet options =\n\t\t\t\t\t{\n\t\t\t\t\t\tmessage: 'Image deleted',\n\t\t\t\t\t\tcontainer: '#editSuccessContainer',\n\t\t\t\t\t\tduration: 5000\n\t\t\t\t\t};\n\t\t\t\t$.meow(options);\n\n\t\t\t\tthis.router.navigate(['/gallery/' + this.image.gallery_id]);\n\t\t\t});\n\t\t}\n\t}\n\n\tngOnDestroy() {\n\t\tthis.observer.unsubscribe();\n\t}\n}\n","<image-edit [image]=\"image\"></image-edit>\n\n<div class=\"row\">\n\t<div class=\"pull-right\">\n\t\t<div *ngIf=\"rights.isAdmin\" class=\"btn-group\" role=\"group\" aria-label=\"...\">\n\t\t\t<button type=\"button\" (click)=\"onEditClick()\" class=\"btn btn-default\" id=\"imageEdit\" title=\"Edit image\" data-toggle=\"tooltip\"><span class=\"glyphicon glyphicon-pencil\"></span></button>\n\t\t\t<button type=\"button\" (click)=\"onDeleteClick()\" class=\"btn btn-default\" id=\"imageDelete\" title=\"Delete image\" data-toggle=\"tooltip\"><span class=\"glyphicon glyphicon-trash\"></span></button>\n\t\t</div>\n\t</div>\n</div>\n","export class Gallery {\n    id: number;\n    name: string;\n    thumb_id: number;\n\n    constructor(id: number, name: string, thumb_id: number){\n        this.id = id;\n        this.name = name;\n        this.thumb_id = thumb_id;\n    }\n}\n","import { Component, Input, Output, EventEmitter, ViewChild, ElementRef, HostListener, DoCheck } from '@angular/core';\nimport { NgBoxService } from './ngbox.service';\n\n\n@Component({\n    selector: 'my-ngbox, ngbox',\n    template: `\n        <div id=\"ngBoxLoading\" *ngIf=\"ngBox.loading\"><img src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNv\nZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cD\novL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjAiIHdpZHRo\nPSIxNjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMTI4IDE2IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c2NyaXB0IHR5cGU9InRleHQvZW\nNtYXNjcmlwdCIgeGxpbms6aHJlZj0iLy9wcmVsb2FkZXJzLm5ldC9qc2NyaXB0cy9zbWlsLnVzZXIuanMiLz48cGF0aCBmaWxsPSIjZmZmZmZmIiBm\naWxsLW9wYWNpdHk9IjAuNDE5NjA3ODQzMTM3MjUiIGQ9Ik02LjQsNC44QTMuMiwzLjIsMCwxLDEsMy4yLDgsMy4yLDMuMiwwLDAsMSw2LjQsNC44Wm\n0xMi44LDBBMy4yLDMuMiwwLDEsMSwxNiw4LDMuMiwzLjIsMCwwLDEsMTkuMiw0LjhaTTMyLDQuOEEzLjIsMy4yLDAsMSwxLDI4LjgsOCwzLjIsMy4y\nLDAsMCwxLDMyLDQuOFptMTIuOCwwQTMuMiwzLjIsMCwxLDEsNDEuNiw4LDMuMiwzLjIsMCwwLDEsNDQuOCw0LjhabTEyLjgsMEEzLjIsMy4yLDAsMS\nwxLDU0LjQsOCwzLjIsMy4yLDAsMCwxLDU3LjYsNC44Wm0xMi44LDBBMy4yLDMuMiwwLDEsMSw2Ny4yLDgsMy4yLDMuMiwwLDAsMSw3MC40LDQuOFpt\nMTIuOCwwQTMuMiwzLjIsMCwxLDEsODAsOCwzLjIsMy4yLDAsMCwxLDgzLjIsNC44Wk05Niw0LjhBMy4yLDMuMiwwLDEsMSw5Mi44LDgsMy4yLDMuMi\nwwLDAsMSw5Niw0LjhabTEyLjgsMEEzLjIsMy4yLDAsMSwxLDEwNS42LDgsMy4yLDMuMiwwLDAsMSwxMDguOCw0LjhabTEyLjgsMEEzLjIsMy4yLDAs\nMSwxLDExOC40LDgsMy4yLDMuMiwwLDAsMSwxMjEuNiw0LjhaIi8+PGc+PHBhdGggZmlsbD0iI2ZmZmZmZiIgZmlsbC1vcGFjaXR5PSIxIiBkPSJNLT\nQyLjcsMy44NEE0LjE2LDQuMTYsMCwwLDEtMzguNTQsOGE0LjE2LDQuMTYsMCwwLDEtNC4xNiw0LjE2QTQuMTYsNC4xNiwwLDAsMS00Ni44Niw4LDQu\nMTYsNC4xNiwwLDAsMS00Mi43LDMuODRabTEyLjgtLjY0QTQuOCw0LjgsMCwwLDEtMjUuMSw4YTQuOCw0LjgsMCwwLDEtNC44LDQuOEE0LjgsNC44LD\nAsMCwxLTM0LjcsOCw0LjgsNC44LDAsMCwxLTI5LjksMy4yWm0xMi44LS42NEE1LjQ0LDUuNDQsMCwwLDEtMTEuNjYsOGE1LjQ0LDUuNDQsMCwwLDEt\nNS40NCw1LjQ0QTUuNDQsNS40NCwwLDAsMS0yMi41NCw4LDUuNDQsNS40NCwwLDAsMS0xNy4xLDIuNTZaIi8+PGFuaW1hdGVUcmFuc2Zvcm0gYXR0cm\nlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJ0cmFuc2xhdGUiIHZhbHVlcz0iMjMgMDszNiAwOzQ5IDA7NjIgMDs3NC41IDA7ODcuNSAwOzEwMCAw\nOzExMyAwOzEyNS41IDA7MTM4LjUgMDsxNTEuNSAwOzE2NC41IDA7MTc4IDAiIGNhbGNNb2RlPSJkaXNjcmV0ZSIgZHVyPSI3ODBtcyIgcmVwZWF0Q2\n91bnQ9ImluZGVmaW5pdGUiLz48L2c+PC9zdmc+Cg==\"/></div>\n        <div id=\"ngBoxWrapper\" (click)=\"closeOutside($event)\" *ngIf=\"ngBox.open\" [ngStyle]=\"{'padding-top': offsetHeight+'px'}\">\n            <div id=\"ngBoxContent\">\n                <img *ngIf=\"getHasGroup()\" class=\"left\" (click)=\"previousNgBox()\" src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvb\nj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyB\nWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL\n0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDA\nwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iNzBweCIgaGVpZ2h0PSIxMDBwe\nCIgdmlld0JveD0iMCAwIDcwIDEwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNzAgMTAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwb2x5Z29uIGZpbGw\n9IiNGRkZGRkYiIHN0cm9rZT0iIzZCNkI2QiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludHM9IjQ1LjYsOTguNTI0IDE0LjU0NCw1MCA0NS42LDEuNDc2IDQ4L\njgwMSwzLjUyNCAxOS4wNTYsNTAgDQoJNDguODAxLDk2LjQ3NiAiLz4NCjwvc3ZnPg0K\">\n                <img *ngIf=\"getHasGroup()\" class=\"right\" (click)=\"nextNgBox()\" src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0i\nMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZX\nJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dy\nYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3\nN2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iNzBweCIgaGVpZ2h0PSIxMDBweCIg\ndmlld0JveD0iMCAwIDcwIDEwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNzAgMTAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwb2x5Z29uIGZpbGw9Ii\nNGRkZGRkYiIHN0cm9rZT0iIzZCNkI2QiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludHM9IjE3Ljc0Niw5OC41MjQgNDguODAxLDUwIDE3Ljc0NiwxLjQ3NiAx\nNC41NDUsMy41MjQgDQoJNDQuMjg5LDUwIDE0LjU0NSw5Ni40NzYgIi8+DQo8L3N2Zz4NCg==\">\n                <img *ngIf=\"ngBox.current.type == 1\"\n                     (load)=\"isLoaded()\"\n                     #ngBoxContent\n                     [src]=\"ngBox.current.url\"\n                     [hidden]=\"ngBox.loading\"\n                     (click)=\"nextNgBox()\"\n                     alt=\"\">\n                <iframe *ngIf=\"ngBox.current.type == 2\"\n                        #ngBoxContent\n                        [src]=\"ngBox.current.url\"\n                        width=\"{{ngBox.current.width}}\"\n                        height=\"{{ngBox.current.height}}\"\n                        frameborder=\"0\"\n                        allowfullscreen>\n                </iframe>\n                <iframe *ngIf=\"ngBox.current.type == 3\"\n                        [src]=\"ngBox.current.url\"\n                        #ngBoxContent\n                        width=\"{{ngBox.current.width}}\"\n                        height=\"{{ngBox.current.height}}\"\n                        frameborder=\"0\"\n                        webkitallowfullscreen\n                        mozallowfullscreen\n                        allowfullscreen>\n                </iframe>\n                <iframe *ngIf=\"ngBox.current.type == 4\"\n                        #ngBoxContent\n                        [src]=\"ngBox.current.url\"\n                        frameborder=\"0\"\n                        width=\"{{ngBox.current.width}}\"\n                        height=\"{{ngBox.current.height}}\"\n                        allowfullscreen>\n                </iframe>\n            </div>\n            <div #ngBoxButtons id=\"buttons\" [hidden]=\"ngBox.loading\">\n                <p>\n                    <span class=\"title\" *ngIf=\"ngBox.current.title\">{{ngBox.current.title}}<br/></span>\n                    <span class=\"pages\" *ngIf=\"getHasGroup()\">{{getCurrentIndex()}} of {{getCount()}}</span>\n                </p>\n                <img (click)=\"closeNgBox()\" id=\"closeButton\" src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZG\nluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAw\nIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy\n8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6\neGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMzBweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwID\nAgMzAgMzAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMwIDMwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwb2x5Z29uIGZpbGw9IiNGRkZGRkYiIHN0cm9r\nZT0iIzZCNkI2QiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludHM9IjI4LjUsMi44NCAyNS40NjMsMS41IDE1LDEyLjc0OSA0LjUzOSwxLjUgMS41LDIuODQgDQ\noJMTIuODExLDE1IDEuNSwyNy4xNiA0LjUzOSwyOC41IDE1LDE3LjI1MSAyNS40NjMsMjguNSAyOC41LDI3LjE2IDE3LjE4OSwxNSAiLz4NCjwvc3ZnPg0K\" alt=\"\">\n            </div>\n\n\n\n\n\n\n        </div>\n    `,\n    styles: [`\n        #ngBoxLoading{\n            text-align: center;\n            z-index: 10001;\n            width: 100%;\n            height: 100%;\n            color: white;\n            position: fixed;\n            top: 46%;\n            font-size: 20px;\n        }\n        #ngBoxWrapper {\n            background-color: rgba(0, 0, 0, 0.9);\n            position: fixed;\n            top: 0px;\n            left: 0px;\n            text-align: center;\n            z-index: 10000;\n            width: 100%;\n            height: 100%;\n        }\n\n        #ngBoxWrapper #ngBoxContent img {\n            -webkit-border-radius: 4px;\n            -moz-border-radius: 4px;\n            border-radius: 4px;\n        }\n\n        #ngBoxContent {\n            display: block;\n        }\n\n        button {\n            font-size: 12px;\n        }\n\n        iframe {\n            max-width: 100%;\n            max-height: 100%;\n        }\n        #buttons{\n            position: relative;\n            margin: 5px auto;\n            text-align: right;\n        }\n        #buttons p{\n            float: left;\n            color: white;\n            text-align: left;\n            margin: 0 50px 0 0;\n            font-size: 12px;\n            font-family: sans-serif;\n        }\n        #buttons span.title{\n            display: block;\n            height: 18px;\n            overflow: hidden;\n        }\n        #closeButton{\n            position: absolute;\n            top: 0px;\n            right: 0px;\n            cursor: pointer;\n        }\n        .left{\n            position: fixed;\n            left: -5px;\n            margin-top: -42px;\n            cursor: pointer;\n            top: 50%;\n        }\n        .right{\n            position: fixed;\n            right: -10px;\n            margin-top: -42px;\n            cursor: pointer;\n            top: 50%;\n        }\n    `]\n})\nexport class NgBoxComponent implements DoCheck {\n\n    offsetHeight: number;\n    interval: any;\n    @Input() data: any;\n    @Output() showMore = new EventEmitter();\n    @ViewChild('ngBoxContent', {}) elementView: ElementRef;\n    @ViewChild('ngBoxButtons', {}) elementButtons: ElementRef;\n\n    constructor(\n        public ngBox: NgBoxService\n    ) {\n    }\n\n    ngDoCheck() {\n        if (this.ngBox.open === true && this.elementView === undefined) {\n            this.checkInterval();\n        }\n    }\n\n    closeOutside($event) {\n        if ($event.target.getAttribute('id') === 'ngBoxContent' || $event.target.getAttribute('id') === 'ngBoxWrapper') {\n            this.closeNgBox();\n        }\n    }\n\n    checkInterval() {\n        let t = setInterval(() => {\n            if (this.elementView && this.elementButtons  ) {\n                this.resize();\n                // Stop Loading on frames\n                if (this.ngBox.current.type === 2 || this.ngBox.current.type === 3 || this.ngBox.current.type === 4) {\n                    this.ngBox.loading = false;\n                }\n\n                clearInterval(t);\n            }\n        }, 10);\n    }\n\n    closeNgBox() {\n        this.ngBox.open = false;\n    }\n\n    elementExist() {\n        if (this.elementView !== undefined) {\n            return true;\n        }\n        return false;\n    }\n\n    @HostListener('window:resize', ['$event'])\n    resize() {\n        // Resize big images\n\n        if ( this.elementView && this.elementButtons) {\n            let currentWidth = this.calcPercent(this.ngBox.current.width, window.innerWidth);\n            let currentHeight = this.calcPercent(this.ngBox.current.height, window.innerHeight);\n\n            let realWidth   = this.elementView.nativeElement.naturalWidth ?\n                              this.elementView.nativeElement.naturalWidth : currentWidth;\n            let realHeight  = this.elementView.nativeElement.naturalHeight ?\n                              this.elementView.nativeElement.naturalHeight : currentHeight;\n\n\n            let maxWidth    = Math.min((window.innerWidth - 70), currentWidth ? currentWidth : realWidth);\n            let maxHeight   = Math.min((window.innerHeight - 60), currentHeight ? currentHeight : realHeight);\n\n            let ratio       = Math.min( maxWidth / realWidth, maxHeight / realHeight);\n\n            this.elementView.nativeElement.width    = realWidth * ratio;\n            this.elementView.nativeElement.height   = realHeight * ratio;\n\n\n            this.elementButtons.nativeElement.style.width = this.elementView.nativeElement.offsetWidth + 'px';\n\n            // Calculate top padding\n            this.offsetHeight = (window.innerHeight - 40 - this.elementView.nativeElement.offsetHeight) / 2;\n            if (this.offsetHeight < 0) {\n                this.offsetHeight = 0;\n            }\n        }\n    }\n\n\n\n\n    @HostListener('window:keydown', ['$event'])\n    checkKeyPress(event: KeyboardEvent) {\n        if ( event.keyCode === 39 ) {\n            this.nextNgBox();\n        }else if ( event.keyCode === 37 ) {\n            this.previousNgBox();\n        }else if ( event.keyCode === 27 ) {\n            this.closeNgBox();\n        }\n    }\n\n    calcPercent(value, of) {\n        if (value !== undefined && value.toString().search('%') >= 0) {\n            return of * parseInt(value.toString(), 0) / 100;\n        }\n        return value;\n    }\n\n    getHasGroup() {\n        return this.ngBox.current.group !== undefined;\n    }\n\n    getCount() {\n        return this.ngBox.images.filter(image => image.group === this.ngBox.current.group).length;\n    }\n\n    getCurrentIndex() {\n        let currentGroup = this.ngBox.images.filter(image => image.group === this.ngBox.current.group);\n        return currentGroup.map(function (e) {\n            return e.id;\n        }).indexOf(this.ngBox.current.id) + 1;\n    }\n\n    nextNgBox() {\n        if ( this.ngBox.current.group === undefined ) {\n            return false;\n        }\n        this.ngBox.loading = true;\n        let currentGroup = this.ngBox.images.filter(image => image.group === this.ngBox.current.group);\n        let pos = currentGroup.map(function (e) {\n            return e.id;\n        }).indexOf(this.ngBox.current.id);\n        if (pos >= currentGroup.length - 1) {\n            this.ngBox.current = currentGroup[0];\n        } else {\n            this.ngBox.current = currentGroup[pos + 1];\n        }\n        this.checkInterval();\n    }\n\n    previousNgBox() {\n        if ( this.ngBox.current.group === undefined ) {\n            return false;\n        }\n        this.ngBox.loading = true;\n        let currentGroup = this.ngBox.images.filter(image => image.group === this.ngBox.current.group);\n        let pos = currentGroup.map(function (e) {\n            return e.id;\n        }).indexOf(this.ngBox.current.id);\n        if (pos === 0) {\n            pos = currentGroup.length;\n        }\n        this.ngBox.current = currentGroup[pos - 1];\n        this.checkInterval();\n    }\n\n    isLoaded() {\n        if (this.ngBox.current.type === 1) {\n            this.ngBox.loading = false;\n        }\n\n        this.checkInterval();\n    }\n\n}\n","import { Directive, AfterViewInit, HostListener, Input, OnDestroy } from '@angular/core';\r\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\r\nimport { NgBoxService } from './ngbox.service';\r\n\r\n@Directive({\r\n    selector: '[myNgBox],[ng-box]'\r\n})\r\nexport class NgBoxDirective implements AfterViewInit, OnDestroy {\r\n\r\n    id: number;\r\n    data: {};\r\n    @Input() src: any;\r\n    @Input() href: any;\r\n    @Input() title: string;\r\n    @Input() width: string;\r\n    @Input() height: string;\r\n    @Input() group: string;\r\n    @Input() cache: boolean;\r\n    @Input() image: boolean;\r\n    currentHref: string;\r\n\tcurrentSrc: string;\r\n\r\n    constructor(\r\n        public ngBox: NgBoxService,\r\n        public sanitizer: DomSanitizer\r\n    ) {\r\n    }\r\n\r\n\tngOnDestroy() {\r\n    \tthis.removeImage();\r\n\t}\r\n\r\n    ngAfterViewInit() {\r\n        this.ngBox.id = this.id = this.ngBox.id + 1;\r\n        this.updateImage();\r\n    }\r\n\r\n\tremoveImage() {\r\n\t\tlet pos = this.ngBox.images.map(function(e) { return e.id; }).indexOf(this.id);\r\n\t\tif (pos !== -1)\r\n\t\t\tthis.ngBox.images.splice(pos, 1);\r\n\t}\r\n\r\n    updateImage() {\r\n\t    let src = this.src ? this.src : this.href;\r\n\t    this.data = this.getData(src);\r\n\t    this.ngBox.images.push( this.data );\r\n    }\r\n\r\n    @HostListener('click', ['$event'])\r\n    onClick($event) {\r\n        $event.preventDefault();\r\n\r\n\t    this.removeImage();\r\n\t    this.updateImage();\r\n\r\n        this.ngBox.loading = true;\r\n        this.ngBox.current = this.data;\r\n        this.ngBox.open = true;\r\n    }\r\n\r\n    getData(url: string): SafeResourceUrl | boolean {\r\n        if (url !== undefined || url !== '') {\r\n            // Youtube\r\n            let regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=|\\?v=)([^#\\&\\?]*).*/;\r\n            let match = url.match(regExp);\r\n            if (match && match[2].length === 11) {\r\n                return {\r\n                    id: this.id,\r\n                    url: this.sanitizer.bypassSecurityTrustResourceUrl('https://www.youtube.com/embed/' + match[2] + '?autoplay=0'),\r\n                    type: 2,\r\n                    title: this.title,\r\n                    width: this.width ? this.width : 640,\r\n                    height: this.height ? this.height : 380,\r\n                    group: this.group\r\n                };\r\n            }\r\n            // Vimeo\r\n            regExp = /^.*(vimeo\\.com\\/)((channels\\/[A-z]+\\/)|(groups\\/[A-z]+\\/videos\\/))?([0-9]+)/;\r\n            match = url.match(regExp);\r\n            if (match && match[5].length === 8) {\r\n                return {\r\n                    id: this.id,\r\n                    url: this.sanitizer.bypassSecurityTrustResourceUrl('https://player.vimeo.com/video/' + match[5]),\r\n                    type: 3,\r\n                    title: this.title,\r\n                    width: this.width ? this.width : 640,\r\n                    height: this.height ? this.height : 380,\r\n                    group: this.group\r\n                };\r\n            }\r\n            if (!url.match(/\\.(png|jpg|jpeg|gif|JPG|PNG|JPEG|GIF)$/) && this.image !== true) {\r\n\r\n                return {\r\n                    id: this.id,\r\n                    url: this.sanitizer.bypassSecurityTrustResourceUrl(url),\r\n                    type: 4,\r\n                    title: this.title,\r\n                    width: this.width ? this.width : 1000,\r\n                    height: this.height ? this.height : 480,\r\n                    group: this.group\r\n                };\r\n            }\r\n/*            if (url.search('photoshooter') >= 0 || url.search('news247') >= 0) {\r\n                return {\r\n                    id: this.id,\r\n                    url: this.sanitizer.bypassSecurityTrustResourceUrl(url),\r\n                    type: 4,\r\n                    title: this.title,\r\n                    width: this.width ? this.width : 1000,\r\n                    height: this.height ? this.height : 480,\r\n                    group: this.group\r\n                };\r\n            }*/\r\n            if (this.cache) { (new Image()).src = url; }\r\n            return {\r\n                id: this.id,\r\n                url: url,\r\n                type: 1,\r\n                title: this.title,\r\n                width: this.width,\r\n                height: this.height,\r\n                group: this.group\r\n            };\r\n\r\n        }\r\n    }\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class NgBoxService {\r\n\r\n    public id = 0;\r\n    public current: any;\r\n    public loading = false;\r\n    public open = false;\r\n    public images: any = [];\r\n\r\n    constructor() { }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute} from \"@angular/router\";\nimport {PageDataService} from \"../../services/page_data.service\";\n\n@Component({\n\tselector: 'gallery-page',\n\ttemplateUrl: './gallery-page.component.html',\n\tstyleUrls: ['./gallery-page.component.css']\n})\nexport class GalleryPageComponent implements OnInit {\n\tconstructor(private route: ActivatedRoute,\n\t            private page_data_service: PageDataService) {\n\t}\n\n\tngOnInit(): void {\n\t\tthis.route.params.subscribe(params => {\n\t\t\tthis.page_data_service.GetGalleryPageData(params['id']);\n\t\t});\n\t}\n}","<gallery-toolbar></gallery-toolbar>\n<gallery-info></gallery-info>\n<gallery-list></gallery-list>\n<image-list></image-list>","import {Component, OnInit} from '@angular/core';\nimport {PageDataService} from \"../../services/page_data.service\";\n\n@Component({\n    selector: 'moa',\n    templateUrl: './home-page.component.html',\n    styleUrls: ['./home-page.component.css']\n})\nexport class HomePageComponent implements OnInit {\n    constructor(private page_data_service: PageDataService) {\n    }\n\n    ngOnInit(): void {\n    \tthis.page_data_service.GetHomePageData();\n    }\n}\n","<home-toolbar></home-toolbar>\n\n<gallery-list></gallery-list>","import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute} from \"@angular/router\";\nimport {PageDataService} from \"../../services/page_data.service\";\n\n@Component({\n  selector: 'image-page',\n  templateUrl: './image-page.component.html',\n  styleUrls: ['./image-page.component.css']\n})\nexport class ImagePageComponent implements OnInit {\n\n  constructor(private route: ActivatedRoute,\n              private page_data_service: PageDataService) { }\n\n  ngOnInit() {\n\t  this.route.params.subscribe(params => {\n\t\t  this.page_data_service.GetImagePageData(params['image_id'], params['gallery_id']);\n\t  });\n  }\n\n}\n","<image-toolbar></image-toolbar>\n<image-info></image-info>","import { Injectable } from '@angular/core';\nimport {Subject} from \"rxjs/Subject\";\n\n@Injectable()\nexport class ButtonClickService {\n\n\tprivate notify = new Subject<any>();\n\tnotifyObservable$ = this.notify.asObservable();\n\n\tconstructor() {}\n\n\tpublic trigger(name: string, data: any = null) {\n\t\tif (name) {\n\t\t\tthis.notify.next({\n\t\t\t\tname: name,\n\t\t\t\tdata: data\n\t\t\t});\n\t\t}\n\t}\n}\n","import {Injectable} from \"@angular/core\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {BehaviorSubject} from \"rxjs/BehaviorSubject\";\nimport {Observable} from \"rxjs/Observable\";\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/filter';\n\n@Injectable()\nexport class DataService {\n    data: BehaviorSubject<any>;\n\n    constructor(private http: HttpClient) {\n        this.data = new BehaviorSubject<any>([]);\n    }\n\n    setPageData(pageData): void {\n        this.data.next(pageData);\n    }\n\n    getBreadcrumbObserver(): Observable<any> {\n        return this.data\n            .map(data => {\n                return data.breadcrumbs;\n            })\n            .filter(data => data !== undefined);\n    }\n\n    getGalleriesObserver(): Observable<any> {\n        return this.data\n            .map(data => {\n                return data.galleries;\n            })\n            .filter(data => data !== undefined);\n    }\n\n\tgetGalleryObserver(): Observable<any> {\n\t\treturn this.data\n\t\t\t.map(data => {\n\t\t\t\t// TODO: Convert to Gallery model?\n\t\t\t\treturn data.gallery;\n\t\t\t})\n\t\t\t.filter(data => data !== undefined);\n\t}\n\n\tgetImageObserver(): Observable<any> {\n\t\treturn this.data\n\t\t\t.map(data => {\n\t\t\t\t// TODO: Convert to Image model?\n\t\t\t\treturn data.image;\n\t\t\t})\n\t\t\t.filter(data => data !== undefined);\n\t}\n\n\tgetImagesObserver(): Observable<any> {\n\t\treturn this.data\n\t\t\t.map(data => {\n\t\t\t\treturn data.images;\n\t\t\t})\n\t\t\t.filter(data => data !== undefined);\n\t}\n\n\tgetPageTitleObserver(): Observable<any> {\n\t\treturn this.data\n\t\t\t.map(data => {\n\t\t\t\treturn data.page_title;\n\t\t\t})\n\t\t\t.filter(data => data !== undefined);\n\t}\n\n}","import {Injectable} from \"@angular/core\";\nimport {DataService} from \"./data.service\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {Subject} from \"rxjs/Subject\";\nimport {Observable} from \"rxjs/Observable\";\n\n@Injectable()\nexport class GalleryService {\n\n\tprotected api_url: string = '/api/gallery/';\n\n\tconstructor(private dataService: DataService,\n\t            private http: HttpClient) {\n\t}\n\n\tSubmitGallery(data): Observable<any> {\n\t\tlet url = this.api_url + data.id;\n\t\tlet subject = new Subject();\n\n\t\tlet body = {\n\t\t\tname: data.name,\n\t\t\tdescription: data.description,\n\t\t\tparent: data.parent,\n\t\t\ttags: data.tags,\n\t\t\tuseTags: data.useTags,\n\t\t\tshowImages: data.showImages\n\t\t};\n\n\t\tif (data.id > 0) {\n\t\t\tthis.http.put(url, body).subscribe(data => {\n\t\t\t\tsubject.next({success: data['success'], message: data['message']});\n\t\t\t\tthis.dataService.setPageData(data);\n\t\t\t});\n\t\t} else {\n\t\t\tthis.http.post(url, body).subscribe(data => {\n\t\t\t\tsubject.next({success: data['success'], message: data['message']});\n\t\t\t\tthis.dataService.setPageData(data);\n\t\t\t});\n\t\t}\n\n\t\treturn subject.asObservable();\n\t}\n\n\tDeleteGallery(id, parent_id): Observable<any> {\n\t\tlet url = this.api_url + id;\n\t\tlet subject = new Subject();\n\n\t\tthis.http.delete(url)\n\t\t\t.subscribe(data => {\n\t\t\t\tsubject.next({success: data['success'], message: data['message']});\n\t\t\t});\n\n\t\treturn subject.asObservable();\n\t}\n\n\tMoveImage(gallery_id, image_id, position, targetImageId): Observable<any> {\n\t\tlet url = this.api_url + gallery_id + '/' + image_id + '/move/' + position + '/' + targetImageId;\n\t\tlet subject = new Subject();\n\n\t\tthis.http.post(url, null)\n\t\t\t.subscribe(data => {\n\t\t\t\tsubject.next({success: data['success'], message: data['images']});\n\t\t\t\tthis.dataService.setPageData({images:data['images']});\n\t\t\t});\n\n\t\treturn subject.asObservable();\n\t}\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class IdentityService\n{\n\trights = {\n\t\tisAdmin: false\n\t};\n\n\tpublic SetRights(rights)\n\t{\n\t\tthis.rights.isAdmin = rights.isAdmin;\n\t}\n\n\tpublic isAdmin() {\n\t\treturn this.rights.isAdmin;\n\t}\n}\n","import {Injectable} from \"@angular/core\";\nimport {DataService} from \"./data.service\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {Subject} from \"rxjs/Subject\";\nimport {Observable} from \"rxjs/Observable\";\n\n@Injectable()\nexport class ImageService {\n\n\tprotected api_url: string = '/api/image/';\n\n\tconstructor(private dataService: DataService,\n\t            private http: HttpClient) {\n\t}\n\n\tSubmitImages(data): Observable<any> {\n\t\tlet url = this.api_url + data.id;\n\t\tlet subject = new Subject();\n\n\t\tlet body = {\n\t\t\tid: data.id,\n\t\t\tgallery_id: data.gallery_id,\n\t\t\tdescription: data.description,\n\t\t\ttags: data.tags,\n\t\t\tfileHashes: data.fileHashes\n\t\t};\n\n\t\tif (data.id > 0) {\n\t\t\tthis.http.put(url, body).subscribe(data => {\n\t\t\t\tsubject.next({success: data['success'], message: data['message']});\n\t\t\t\tthis.dataService.setPageData(data);\n\t\t\t});\n\t\t} else {\n\t\t\tthis.http.post(url, body).subscribe(data => {\n\t\t\t\tsubject.next({success: data['success'], message: data['message']});\n\t\t\t\tthis.dataService.setPageData(data);\n\t\t\t});\n\t\t}\n\n\t\treturn subject.asObservable();\n\t}\n\n\tDeleteImage(id): Observable<any> {\n\t\tlet url = this.api_url + id;\n\t\tlet subject = new Subject();\n\n\t\tthis.http.delete(url)\n\t\t\t.subscribe(data => {\n\t\t\t\tsubject.next({success: data['success'], message: data['message']});\n\t\t\t});\n\n\t\treturn subject.asObservable();\n\t}\n}\n","import {Injectable} from \"@angular/core\";\nimport {DataService} from \"./data.service\";\nimport {HttpClient} from \"@angular/common/http\";\n\n@Injectable()\nexport class PageDataService {\n\tprotected api_url: string = '/api/page_data/';\n\n    constructor(private data_service: DataService, private http: HttpClient) {\n    }\n\n    GetPageData(url: string) {\n\t    this.http.get(url).subscribe(data => {\n\t\t    this.data_service.setPageData(data);\n\t    });\n    }\n\n    GetHomePageData() {\n\t    let url = this.api_url + 'home_page';\n\t    this.GetPageData(url);\n    }\n\n\tGetGalleryPageData(id: number) {\n\t\tlet url = this.api_url + 'gallery_page/' + id;\n\t\tthis.GetPageData(url);\n\t}\n\n\tGetImagePageData(image_id: number, gallery_id: number) {\n\t\tlet url = this.api_url + 'image_page/' + gallery_id + '/' + image_id;\n\t\tthis.GetPageData(url);\n\t}\n}","import {Injectable, OnDestroy} from \"@angular/core\";\nimport {Subscription} from \"rxjs/Subscription\";\nimport {DataService} from \"./data.service\";\n\n@Injectable()\nexport class PageTitleService implements OnDestroy{\n\n\tobserver: Subscription;\n\n    constructor(private service: DataService) {\n\t    this.observer = service.getPageTitleObserver().subscribe(\n\t\t    data => {\n\t\t\t\tdocument.title = data;\n\t\t    }\n\t    );\n    }\n\n\tngOnDestroy(): void {\n\t\tthis.observer.unsubscribe();\n\t}\n}","import { Injectable } from '@angular/core';\nimport {Subject} from \"rxjs/Subject\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {Observable} from \"rxjs/Observable\";\n\n@Injectable()\nexport class ThumbnailService {\n\n\tprivate api_url: string = '/api/thumbnail_status';\n\n\tconstructor(private http: HttpClient) {}\n\n\tpublic getStatus(data: Array<number> = null): Observable<any> {\n\t\tlet subject = new Subject();\n\n\t\tlet params = data.join(',');\n\t\tlet url = this.api_url + '?images=' + params;\n\n\t\tthis.http.get(url).subscribe(data => {\n\t\t\tsubject.next(data);\n\t\t});\n\n\t\treturn subject.asObservable();\n\t}\n}\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":"webpack:///"}